<style>
</style>

{% extends 'base.html' %}

{% block head %}
<title>Task Master</title>
{% endblock %}

{% block body %}
<div class="content" style="margin-left: 5vw; margin-right: 5vw;">
    <h1>Task Master</h1>
    <table id = "interactive_table" style="width:90vw; text-align: center;
    ">
        <thead>
            <tr>
                <th>Task</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for task in tasks %}
            <tr>
                <!-- <td>{{ task[1] }}</td>
                <td data-name="task" class="task" data-type="text" data-pk="{{ task[0] }}">
                    <a href="/delete/{{task[0]}}">Delete</a>
                    <br>
                    <a href="/update">Update</a>
                </td> -->

                    <td data-pk="{{task[0]}}">{{task[0]}}</td>
                    <td data-name="task" class="task" data-type="text" data-pk="{{task[0]}}">{{task[1]}}</td>
                
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <form action="/" method="POST">
        <input type="text" name="content" id="content">
        <input type="submit" value="Add Task">
    </form>

</div>

<script>

// $.fn.editable.defaults.mode = 'inline';

$(document).ready( function () {
    var dataTable = $('#interactive_table').DataTable({
        "aLengthMenu": [[3, 5, 10, 25, -1], [3, 5, 10, 25, "All"]],
        "iDisplayLengtg": 3,
    });

    $('#interactive_table').editable({
        container:'body',
        selector:'td.task',
        url:'/update',
        title:'Task',
        type:'POST',
        validate:function(value){
            if($.trim(value) == '')
            {
                return 'This field is required';
            }
        }
    });

} );

</script>

{% endblock %}